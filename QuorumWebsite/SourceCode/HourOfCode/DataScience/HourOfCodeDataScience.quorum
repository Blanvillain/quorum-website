use Libraries.Web.Page.all
use Libraries.Containers.Array
use Libraries.System.File

class HourOfCodeDataScience is Lesson
    text dq = ""
    dq = dq:GetDoubleQuote()
    text cr = ""
    cr = cr:GetCarriageReturn()
    integer ACTIVITY = 0
    text ACTIVITY_NAME = ""

    Preformatter preformatter //helper

    action Setup(integer activity, text subtitle, Division intro, Division instructions, IDE ide)
        me:ACTIVITY = activity
        me:ACTIVITY_NAME = subtitle

        intro:AddClassAttribute("flex flex-col gap-y-2")
        instructions:AddClassAttribute("flex flex-col gap-y-2")

        LineBreak break //will be used multiple times
        File file
        
        //html header stuff
        SetWebPageTitle("Data Science Hour of Code Activity " + activity + " | Quorum Programming Language")
        AddDefaultHeaders()

        //Figure out getting main regions properly.
        MainContent mainRegion
        AdjustMain(mainRegion)

        //page header
        Array<Division> divs = InitializeTutorialPage()
        Division leftDiv = divs:Get(0)
        Division bodyDiv = divs:Get(1)
        Division rightDiv = divs:Get(2)

        leftDiv:AddClassAttribute("w-1/5")
        bodyDiv:AddClassAttribute("w-3/5")
        rightDiv:AddClassAttribute("hidden")

        Header headDiv
        headDiv:SetClassAttribute("flex flex-col gap-y-2")
        AddHeading(headDiv, "Data Science Hour of Code", 1)

        headDiv:AddText("Activity " + activity + ": " + subtitle)
        bodyDiv:Add(headDiv)

        Section section_intro
        AddHeading(section_intro, "Introduction:", 2)
        if activity >= 16
            AddHeading(section_intro, "(Advanced Lesson)", 3)
        end
        section_intro:Add(intro)


        Section section_instructions
        AddHeading(section_instructions, "Instructions:", 2)
        section_instructions:Add(instructions)

        Section section_activity
        AddHeading(section_activity, "Activity:", 2)
        section_activity:Add(ide)

        bodyDiv:Add(section_intro)
        bodyDiv:Add(section_instructions)
        bodyDiv:Add(section_activity)

        Section nextSection
        WriteNextTutorial(nextSection)
        bodyDiv:Add(nextSection)
        rightDiv:Add(CreateHeadingTableOfContents())
    end

    action GetMetaDescription returns text
        return "Try an accessible data science themed Hour of Code in the Quorum programming language."
    end

    action GetSummaryName returns text
        return "Data Science Hour of Code | Activity " + ACTIVITY
    end

    action GetImageLocation returns text
        return ""
    end

    action GetName returns text
        return "Data Science Hour of Code | Activity " + ACTIVITY
    end

    action GetShortDescription returns text
        return "Accessible data science themed Hour of Code"
    end
end
